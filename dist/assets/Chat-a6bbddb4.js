import{_ as T,r as h,d as S,o as n,c as i,a as e,b as c,F as b,e as y,n as v,h as m,t as l,i as j,s as H,w as L,m as V,j as w}from"./index-a28efa19.js";const N={class:"container-fluid p-4"},z={class:"row"},I={class:"col-12"},A={class:"row g-4"},B={class:"col-lg-4"},$={class:"card h-100"},E={class:"card-body p-0"},P={class:"list-group list-group-flush"},W=["onClick"],F={class:"position-relative me-3"},G=["src","alt"],J={key:0,class:"position-absolute bottom-0 end-0 bg-success rounded-circle border border-2 border-white",style:{width:"12px",height:"12px"}},O={class:"flex-grow-1"},R={class:"d-flex justify-content-between align-items-start"},U={class:"mb-1"},q={class:"text-muted"},K={class:"mb-1 text-muted small"},Q={key:0,class:"badge bg-danger rounded-pill"},X={class:"col-lg-8"},Y={class:"card h-100"},Z={key:0,class:"card-header bg-light d-flex align-items-center"},ee=["src","alt"],te={class:"flex-grow-1"},se={class:"mb-0"},ae={key:0,class:"text-success"},oe={key:1,class:"text-muted"},ne={class:"card-body d-flex flex-column",style:{height:"500px"}},ie={key:0,class:"text-center text-muted mt-5"},le={key:1},de={key:0,class:"fas fa-check ms-1"},re={key:0,class:"border-top pt-3"},ce={class:"flex-grow-1 position-relative"},me=["disabled"],ue=["disabled"],he={__name:"Chat",setup(ve){const d=h(""),a=h(null),u=h(null),p=h([{id:1,name:"Sarah Johnson",avatar:"https://randomuser.me/api/portraits/women/1.jpg",online:!0,lastMessage:{text:"That sounds great! Looking forward to it.",time:new Date(Date.now()-5*60*1e3)},unreadCount:2,messages:[{id:1,sender:"other",text:"Hi! How are you doing today?",time:new Date(Date.now()-2*60*60*1e3)},{id:2,sender:"me",text:"I'm doing great, thanks! How about you?",time:new Date(Date.now()-2*60*60*1e3+5*60*1e3)},{id:3,sender:"other",text:"Pretty good! Are we still on for the meeting tomorrow?",time:new Date(Date.now()-10*60*1e3)},{id:4,sender:"me",text:"Absolutely! See you at 10 AM.",time:new Date(Date.now()-8*60*1e3)},{id:5,sender:"other",text:"That sounds great! Looking forward to it.",time:new Date(Date.now()-5*60*1e3)}]},{id:2,name:"Mike Chen",avatar:"https://randomuser.me/api/portraits/men/2.jpg",online:!1,lastSeen:new Date(Date.now()-30*60*1e3),lastMessage:{text:"Thanks for the help!",time:new Date(Date.now()-2*60*60*1e3)},unreadCount:0,messages:[{id:1,sender:"other",text:"Hey, can you help me with the project?",time:new Date(Date.now()-3*60*60*1e3)},{id:2,sender:"me",text:"Sure! What do you need help with?",time:new Date(Date.now()-2.5*60*60*1e3)},{id:3,sender:"other",text:"Thanks for the help!",time:new Date(Date.now()-2*60*60*1e3)}]},{id:3,name:"Emma Wilson",avatar:"https://randomuser.me/api/portraits/women/3.jpg",online:!0,lastMessage:{text:"Perfect! ðŸ‘",time:new Date(Date.now()-24*60*60*1e3)},unreadCount:0,messages:[{id:1,sender:"me",text:"Hi Emma! How was your weekend?",time:new Date(Date.now()-25*60*60*1e3)},{id:2,sender:"other",text:"It was amazing! Went hiking with friends.",time:new Date(Date.now()-24.5*60*60*1e3)},{id:3,sender:"other",text:"Perfect! ðŸ‘",time:new Date(Date.now()-24*60*60*1e3)}]}]),g=o=>{a.value=o,o.unreadCount=0,w(()=>{f()})},D=()=>{if(!d.value.trim()||!a.value)return;const o={id:Date.now(),sender:"me",text:d.value.trim(),time:new Date};a.value.messages.push(o),a.value.lastMessage={text:o.text,time:o.time},d.value="",w(()=>{f()}),setTimeout(()=>{k()},Math.random()*2e3+1e3)},k=()=>{if(!a.value)return;const o=["Thanks for the message!","That's interesting!","I agree with you.","Let me think about it.","Sounds good to me!","I'll get back to you on that.","Great idea!","That makes sense."],t={id:Date.now(),sender:"other",text:o[Math.floor(Math.random()*o.length)],time:new Date};a.value.messages.push(t),a.value.lastMessage={text:t.text,time:t.time},w(()=>{f()})},f=()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)},C=()=>{alert("Start new chat functionality would be implemented here!")},_=o=>{const s=new Date-o,r=Math.floor(s/(1e3*60*60)),x=Math.floor(s/(1e3*60*60*24));return r<1?`${Math.floor(s/6e4)}m`:r<24?`${r}h`:`${x}d`},M=o=>o.toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"});return S(()=>{p.value.length>0&&g(p.value[0])}),(o,t)=>(n(),i("div",N,[e("div",z,[e("div",I,[e("div",{class:"d-flex justify-content-between align-items-center mb-4"},[t[2]||(t[2]=e("h2",{class:"mb-0"},[e("i",{class:"fas fa-comments text-primary me-2"}),c(" Chat Application ")],-1)),e("button",{class:"btn btn-primary",onClick:C},t[1]||(t[1]=[e("i",{class:"fas fa-plus me-2"},null,-1),c("New Chat ")]))]),e("div",A,[e("div",B,[e("div",$,[t[3]||(t[3]=e("div",{class:"card-header bg-primary text-white"},[e("h5",{class:"mb-0"},[e("i",{class:"fas fa-users me-2"}),c("Conversations ")])],-1)),e("div",E,[e("div",P,[(n(!0),i(b,null,y(p.value,s=>{var r;return n(),i("div",{key:s.id,class:v(["list-group-item list-group-item-action d-flex align-items-center p-3",{active:((r=a.value)==null?void 0:r.id)===s.id}]),onClick:x=>g(s),style:{cursor:"pointer"}},[e("div",F,[e("img",{src:s.avatar,alt:s.name,class:"rounded-circle",style:{width:"40px",height:"40px","object-fit":"cover"}},null,8,G),s.online?(n(),i("span",J)):m("",!0)]),e("div",O,[e("div",R,[e("h6",U,l(s.name),1),e("small",q,l(_(s.lastMessage.time)),1)]),e("p",K,l(s.lastMessage.text),1),s.unreadCount>0?(n(),i("span",Q,l(s.unreadCount),1)):m("",!0)])],10,W)}),128))])])])]),e("div",X,[e("div",Y,[a.value?(n(),i("div",Z,[e("img",{src:a.value.avatar,alt:a.value.name,class:"rounded-circle me-3",style:{width:"40px",height:"40px","object-fit":"cover"}},null,8,ee),e("div",te,[e("h6",se,l(a.value.name),1),a.value.online?(n(),i("small",ae,t[4]||(t[4]=[e("i",{class:"fas fa-circle me-1",style:{"font-size":"0.5rem"}},null,-1),c("Online ")]))):(n(),i("small",oe,"Last seen "+l(_(a.value.lastSeen)),1))]),t[5]||(t[5]=j('<div class="dropdown" data-v-05982c42><button class="btn btn-outline-secondary btn-sm" data-bs-toggle="dropdown" data-v-05982c42><i class="fas fa-ellipsis-v" data-v-05982c42></i></button><ul class="dropdown-menu" data-v-05982c42><li data-v-05982c42><a class="dropdown-item" href="#" data-v-05982c42><i class="fas fa-phone me-2" data-v-05982c42></i>Voice Call</a></li><li data-v-05982c42><a class="dropdown-item" href="#" data-v-05982c42><i class="fas fa-video me-2" data-v-05982c42></i>Video Call</a></li><li data-v-05982c42><hr class="dropdown-divider" data-v-05982c42></li><li data-v-05982c42><a class="dropdown-item text-danger" href="#" data-v-05982c42><i class="fas fa-trash me-2" data-v-05982c42></i>Delete Chat</a></li></ul></div>',1))])):m("",!0),e("div",ne,[e("div",{class:"flex-grow-1 overflow-auto mb-3",ref_key:"messagesContainer",ref:u},[a.value?(n(),i("div",le,[(n(!0),i(b,null,y(a.value.messages,s=>(n(),i("div",{key:s.id,class:"mb-3"},[e("div",{class:v(["d-flex",s.sender==="me"?"justify-content-end":"justify-content-start"])},[e("div",{class:v(["message-bubble px-3 py-2 rounded-3 max-w-75",s.sender==="me"?"bg-primary text-white":"bg-light"])},[e("div",null,l(s.text),1),e("small",{class:v(["d-block mt-1",s.sender==="me"?"text-light":"text-muted"]),style:{"font-size":"0.7rem"}},[c(l(M(s.time))+" ",1),s.sender==="me"?(n(),i("i",de)):m("",!0)],2)],2)],2)]))),128))])):(n(),i("div",ie,t[6]||(t[6]=[e("i",{class:"fas fa-comments fa-3x mb-3"},null,-1),e("h5",null,"Select a conversation to start chatting",-1)])))],512),a.value?(n(),i("div",re,[e("form",{onSubmit:H(D,["prevent"]),class:"d-flex align-items-center"},[t[9]||(t[9]=e("button",{type:"button",class:"btn btn-outline-secondary me-2"},[e("i",{class:"fas fa-paperclip"})],-1)),e("div",ce,[L(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),type:"text",class:"form-control pe-5",placeholder:"Type a message...",disabled:!a.value},null,8,me),[[V,d.value]]),t[7]||(t[7]=e("button",{type:"button",class:"btn btn-link position-absolute end-0 top-50 translate-middle-y",style:{"z-index":"5"}},[e("i",{class:"fas fa-smile text-secondary"})],-1))]),e("button",{type:"submit",class:"btn btn-primary ms-2",disabled:!d.value.trim()},t[8]||(t[8]=[e("i",{class:"fas fa-paper-plane"},null,-1)]),8,ue)],32)])):m("",!0)])])])])])])]))}},we=T(he,[["__scopeId","data-v-05982c42"]]);export{we as default};
